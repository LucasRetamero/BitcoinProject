{% extends 'base.html' %}
{% load steptimetags %}

{% block content %}
<main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
            <h1 class="h2">Dashboard - Desenvolvimento do Bitcoin</h1>
            <!--<div class="btn-toolbar mb-2 mb-md-0">
              <div class="btn-group mr-2">
                <button class="btn btn-sm btn-outline-secondary">Share</button>
                <button class="btn btn-sm btn-outline-secondary">Export</button>
              </div>
              <button class="btn btn-sm btn-outline-secondary dropdown-toggle">
                <span data-feather="calendar"></span>
                This week
              </button>
            </div>-->
          </div>
		 
<div class="card" id="devBtc">
  <div class="card-header bg-primary text-white h4" onclick="showHideGraph('#DevelopmentBtc', '#optionDevPrice')">
    Desenvolvimento do Bitcoin  <span id="optionDevPrice" style="float: right;font-weight: bold;">-</span>
  </div>
 <canvas class="my-4 w-100" id="DevelopmentBtc" width="900" height="380"></canvas>
</div>

<div class="card" id="devBtc">
  <div class="card-header bg-primary text-white h4" onclick="showHideGraph('#DevelopmentBtc', '#optionDevPrice')">
    Lista do desenvolvimento do Bitcoin(Api)
  </div>
  <div class="table-responsive">
            <table class="table table-striped table-sm">
              <thead>
                <tr>
                  <th>Data Inicial</th>
                  <th>Data Final</th>
                </tr>
              </thead>
              <tbody>
               <tr>
              <td>{{ valueDev.Data.TimeFrom|print_timestamp|date:"d-m-Y" }}</td>
              <td>{{ valueDev.Data.TimeTo|print_timestamp|date:"d-m-Y" }}</td>
               </tr>
			   <table class="table table-striped table-sm">
              <thead>
                <tr>
                  <th>Data</th>
                  <th>Fechamento</th>
                  <th>Volume</th>
                </tr>
              </thead>
              <tbody>
			   {% for val in valueDev.Data.Data %}
               <tr>
              <td>{{ val.time|print_timestamp|date:"d-m-Y"  }}</td>
              <td>{{ val.close  }}</td>
              <td>{{ val.volumefrom  }}</td>
                </tr>
                 {% endfor %}
                </tbody>
               </table>
              </tbody>
            </table>
          </div>
 </div>
<!--<td><a href="url 'savedevelopmentbtc' date=val.time|print_timestamp|date:'d-m-Y' close=val.close volume=val.volumefrom  " target="_blank"><button type="button" class="btn bg-primary text-white">Save</button></td>-->
                 
<script type="text/javascript">
<!-- Development of Bitcoin -->
      var ctxTwo = document.getElementById("DevelopmentBtc");
      var myChartTwo = new Chart(ctxTwo, {
        type: 'line',
        data: {
          labels: JSON.parse('{{ dates|safe }}'),
          datasets: [{
		    label: ' Fechamento do Bitcoin',
            data: JSON.parse('{{ closes|safe }}'),
            lineTension: 0,
            backgroundColor: 'transparent',
            borderColor: '#007bff',
            borderWidth: 4,
            pointBackgroundColor: '#007bff'
          },
		  {
		    label: ' Volume do Bitcoin',
            data: JSON.parse('{{ volumes|safe }}'),
            lineTension: 0,
            backgroundColor: 'transparent',
            borderColor: '#ff1a1a',
            borderWidth: 4,
            pointBackgroundColor: '#ff1a1a'
          },]
        },
        options: {
          legend: {
            display: false,
          }
        }
      }); 
</script>
{% endblock %}